<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="theme-color" content="#0a0e17" />
  <title>VYRE</title>
  <script type="module" crossorigin src="/assets/index-DowFiMRH.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-BRptOF8n.css">
</head>

<body class="overflow-hidden">
  <div id="app" class="h-[100dvh] w-full flex flex-col relative overflow-hidden mx-auto">

    <!-- ===== AUTH SCREEN ===== -->
    <section id="auth-screen" class="absolute inset-0 z-50 flex flex-col items-center justify-center p-6">

      <div class="mb-10 flex flex-col items-center animate-fade-in-up">
        <h1 class="vyre-logo text-5xl mb-3" style="font-size:48px;">VYRE</h1>
        <p class="text-sm leading-relaxed text-center max-w-sm" style="color:var(--c-text-secondary);">
          Connect. Share. Discover.<br>
          <span style="color:var(--c-text-muted);">A security-first social platform built around public signal, not
            noise.</span>
        </p>
      </div>

      <div class="w-full max-w-xs space-y-4 animate-fade-in-up">
        <!-- Auth Form -->
        <form id="auth-form" class="space-y-3">
          <input type="email" id="auth-email" placeholder="Email" required class="w-full" />
          <input type="password" id="auth-password" placeholder="Password" required class="w-full" />

          <div id="auth-error-msg" class="text-xs font-mono min-h-[16px]" style="color:var(--vyre-danger);"></div>

          <div class="flex gap-2">
            <button type="submit" id="btn-login" class="flex-1 py-3.5 font-semibold rounded-md transition-colors"
              style="background:white; color:var(--c-bg);">
              Sign In
            </button>
            <button type="button" id="btn-signup" class="flex-1 py-3.5 font-semibold rounded-md transition-colors"
              style="background:var(--c-bg-card); color:var(--c-text-secondary); border:1px solid var(--c-border);">
              Sign Up
            </button>
          </div>
        </form>

        <div class="relative py-4">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full" style="border-top:1px solid var(--c-border);"></div>
          </div>
          <div class="relative flex justify-center text-[10px] font-mono uppercase tracking-widest"
            style="color:var(--c-text-muted);">
            <span style="background:var(--c-bg); padding:0 8px;">OR</span>
          </div>
        </div>

        <!-- Beta Access Button -->
        <div id="beta-access-container">
          <button id="beta-access-btn"
            class="w-full py-3.5 px-4 font-mono text-sm uppercase tracking-wider rounded-md transition-colors overflow-hidden"
            style="background:transparent; color:var(--c-accent); border:1px solid var(--c-accent);">
            <span class="flex items-center justify-center gap-2">
              <span class="w-2 h-2 rounded-full animate-pulse" style="background:var(--c-accent);"></span>
              Beta Access (Dev Only)
            </span>
          </button>
        </div>
      </div>
    </section>

    <!-- ===== MAIN APP SHELL ===== -->
    <section id="main-app" class="hidden flex-col h-full w-full max-w-[760px] mx-auto sm:border-x relative"
      style="border-color:var(--vyre-border);">

      <!-- Header -->
      <header class="vyre-header sticky top-0 z-40">
        <div class="vyre-header-main">
          <!-- Left: Search -->
          <div class="vyre-header-icon" title="Search (Coming soon)">
            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>

          <!-- Center: Logo -->
          <h2 class="vyre-logo">VYRE</h2>

          <!-- Right: Bell + Avatar/Logout -->
          <div class="vyre-header-actions">
            <div class="vyre-header-icon" title="Notifications (Coming soon)">
              <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
              </svg>
            </div>
            <button id="logout-btn" class="vyre-avatar-sm" title="Account">
              <span id="user-handle-initial" class="hidden">U</span>
              <svg class="w-4 h-4" id="user-handle-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Tab Bar -->
        <div class="vyre-tabs">
          <div class="vyre-tab active">Global Feed</div>
          <div class="vyre-tab" style="opacity:0.5; cursor:not-allowed;" title="Coming soon">Trending</div>
        </div>

        <!-- Beta Bar (shown only in beta session) -->
        <div id="beta-bar" class="hidden vyre-beta-bar">
          <div class="flex items-center gap-2">
            <span class="vyre-beta-badge">READ-ONLY BETA</span>
          </div>
          <div class="vyre-beta-actions">
            <button id="beta-refresh-btn" class="vyre-btn-ghost">
              <svg width="12" height="12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
              </svg>
              Refresh
            </button>
            <button id="beta-signin-btn" class="vyre-btn-primary-sm">Sign in</button>
          </div>
        </div>
      </header>

      <!-- Compose Section -->
      <div id="compose-container" class="hidden vyre-composer">
        <div class="vyre-composer-inner">
          <div class="vyre-avatar">
            <span id="compose-avatar-initial">U</span>
          </div>
          <div class="flex-1 min-w-0 flex flex-col pt-1">
            <textarea id="compose-text" rows="2" maxlength="500" placeholder="What's happening?"
              class="custom-scrollbar"></textarea>

            <!-- Image Preview -->
            <div id="compose-image-preview-container" class="hidden relative mt-2 w-full overflow-hidden"
              style="border-radius:var(--r-md); border:1px solid var(--vyre-border);">
              <img id="compose-image-preview" src="" alt="Preview" class="w-full object-cover"
                style="aspect-ratio:16/9;">
              <button id="compose-image-remove"
                class="absolute top-2 right-2 w-7 h-7 flex items-center justify-center rounded-full transition-colors"
                style="background:rgba(0,0,0,0.7); color:white;">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Compose Actions -->
        <div class="vyre-composer-actions">
          <div class="flex items-center gap-2">
            <label for="compose-file" class="vyre-header-icon" style="width:32px; height:32px; cursor:pointer;">
              <svg width="18" height="18" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
            </label>
            <input type="file" id="compose-file" accept="image/png, image/jpeg, image/webp" class="hidden">
            <span id="compose-error" class="text-xs font-mono" style="color:var(--vyre-danger);"></span>
          </div>

          <button id="compose-btn" disabled class="vyre-btn-post">
            <span id="compose-btn-text">Post</span>
            <div id="compose-btn-spinner" class="hidden absolute inset-0 flex items-center justify-center"
              style="background:var(--c-brand);">
              <div class="vyre-spinner" style="width:16px; height:16px; border-width:2px; border-top-color:white;">
              </div>
            </div>
          </button>
        </div>
      </div>

      <!-- Feed Content Area -->
      <main id="feed-container"
        class="flex-1 overflow-y-auto w-full pb-20 overscroll-y-contain custom-scrollbar scroll-smooth">
        <div id="loading-spinner" class="flex justify-center p-8 hidden">
          <div class="vyre-spinner"></div>
        </div>
      </main>

      <!-- Bottom Navigation (4 items) -->
      <nav class="vyre-bottom-nav">
        <div class="vyre-nav-item active">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
          </svg>
        </div>
        <div class="vyre-nav-item">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
          </svg>
        </div>
        <div class="vyre-nav-item">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </div>
        <div class="vyre-nav-item">
          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
        </div>
      </nav>

      <!-- Floating Action Button -->
      <button id="fab-create" class="vyre-fab disabled" title="Sign in to post">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4" />
        </svg>
      </button>

      <!-- Debug Panel (Dev Only) -->
      <div id="debug-panel" class="hidden absolute inset-0 z-50 overflow-y-auto p-6"
        style="background:rgba(8,12,21,0.96); backdrop-filter:blur(20px);">
        <div class="max-w-[600px] mx-auto">
          <div class="flex items-center justify-between mb-6">
            <h3 class="text-sm font-bold text-white font-mono tracking-wider">/debug</h3>
            <button id="debug-close-btn" class="vyre-btn-ghost">Close</button>
          </div>
          <div id="debug-content" class="space-y-3">
            <div class="text-xs font-mono animate-pulse" style="color:var(--c-text-muted);">Running checks...</div>
          </div>
          <div class="mt-6 pt-4" style="border-top:1px solid var(--c-border);">
            <h4 class="text-[10px] font-mono uppercase tracking-widest mb-3" style="color:var(--c-text-muted);">Expected
              DB Objects</h4>
            <div class="text-[11px] font-mono space-y-1" style="color:var(--c-text-muted);">
              <p>Table: <span style="color:var(--c-text);">posts</span> (id, author_id, content, created_at)</p>
              <p>Table: <span style="color:var(--c-text);">profiles</span> (id, username, avatar_url, display_name)</p>
              <p>Table: <span style="color:var(--c-text);">post_images</span> (id, post_id, image_url)</p>
              <p>Table: <span style="color:var(--c-text);">likes</span> (user_id, post_id)</p>
              <p>Table: <span style="color:var(--c-text);">comments</span> (post_id, author_id, content)</p>
              <p>Bucket: <span style="color:var(--c-text);">post_images</span> (public)</p>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</body>

</html>